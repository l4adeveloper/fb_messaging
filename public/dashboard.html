<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Facebook Messenger Integration</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="dashboard-container">
         Header 
        <header class="dashboard-header">
            <div class="header-content">
                <div class="header-left">
                    <div class="logo">
                        <div class="logo-icon">üí¨</div>
                        <h1>Facebook Messenger Integration</h1>
                    </div>
                </div>
                <div class="header-right">
                    <div id="user-info" class="user-info">
                         User info will be loaded here 
                    </div>
                </div>
            </div>
        </header>

         Main Dashboard Content 
        <div class="dashboard-main">
             Sidebar 
            <aside class="dashboard-sidebar">
                 Page Selection 
                <div class="sidebar-section">
                    <div class="section-header">
                        <h3><span class="section-icon">üè¢</span>Trang Facebook</h3>
                    </div>
                    <div id="page-list" class="page-list">
                         Pages will be loaded here 
                    </div>
                </div>

                 Conversations 
                <div class="sidebar-section" id="conversations-section" style="display: none;">
                    <div class="section-header">
                        <h3><span class="section-icon">üí¨</span>Cu·ªôc H·ªôi Tho·∫°i</h3>
                        <button class="refresh-btn" onclick="loadConversations()" title="L√†m m·ªõi">
                            <span class="refresh-icon">üîÑ</span>
                        </button>
                    </div>
                    <div id="conversation-list" class="conversation-list">
                         Conversations will be loaded here 
                    </div>
                </div>
            </aside>

             Main Content Area 
            <main class="dashboard-content">
                 Welcome Message 
                <div id="welcome-message" class="welcome-message">
                    <div class="welcome-card">
                        <div class="welcome-header">
                            <div class="welcome-icon">üöÄ</div>
                            <h2>Facebook Messenger Integration</h2>
                            <p>K·∫øt n·ªëi v·ªõi Facebook ƒë·ªÉ qu·∫£n l√Ω tin nh·∫Øn c·ªßa trang</p>
                        </div>
                        
                         Added feature list similar to login page 
                        <div class="feature-list">
                            <h3>T√≠nh nƒÉng:</h3>
                            <div class="feature-item">
                                <span class="checkmark">‚úì</span>
                                <span>Nh·∫≠n tin nh·∫Øn t·ª´ kh√°ch h√†ng</span>
                            </div>
                            <div class="feature-item">
                                <span class="checkmark">‚úì</span>
                                <span>G·ª≠i tin nh·∫Øn tr·∫£ l·ªùi</span>
                            </div>
                            <div class="feature-item">
                                <span class="checkmark">‚úì</span>
                                <span>G·ª≠i th√¥ng b√°o m·ªôt l·∫ßn (OTN)</span>
                            </div>
                            <div class="feature-item">
                                <span class="checkmark">‚úì</span>
                                <span>Qu·∫£n l√Ω nhi·ªÅu trang Facebook</span>
                            </div>
                        </div>

                        <div class="permissions-list">
                            <h3>Quy·ªÅn c·∫ßn thi·∫øt:</h3>
                            <div class="permission-item">
                                <span class="bullet">‚Ä¢</span>
                                <span>pages_show_list - Xem danh s√°ch trang</span>
                            </div>
                            <div class="permission-item">
                                <span class="bullet">‚Ä¢</span>
                                <span>pages_messaging - G·ª≠i v√† nh·∫≠n tin nh·∫Øn</span>
                            </div>
                            <div class="permission-item">
                                <span class="bullet">‚Ä¢</span>
                                <span>pages_read_engagement - ƒê·ªçc t∆∞∆°ng t√°c</span>
                            </div>
                        </div>
                        
                        <div class="getting-started">
                            <p>üëà B·∫Øt ƒë·∫ßu b·∫±ng c√°ch ch·ªçn m·ªôt trang Facebook t·ª´ sidebar</p>
                        </div>
                    </div>
                </div>

                 Chat Interface 
                <div id="chat-interface" class="chat-interface" style="display: none;">
                     Chat Header 
                    <div class="chat-header">
                        <div class="chat-user-info">
                            <img id="chat-user-avatar" src="/diverse-user-avatars.png" alt="User Avatar" class="user-avatar">
                            <div class="user-details">
                                <h4 id="chat-user-name">Ch·ªçn cu·ªôc h·ªôi tho·∫°i</h4>
                                <span id="chat-user-status" class="user-status">
                                    <span class="status-dot"></span>
                                    Offline
                                </span>
                            </div>
                        </div>
                        <div class="chat-actions">
                            <button class="action-btn" onclick="refreshMessages()" title="L√†m m·ªõi tin nh·∫Øn">
                                <span class="refresh-icon">üîÑ</span>
                            </button>
                            <button class="action-btn" onclick="toggleChatInfo()" title="Th√¥ng tin cu·ªôc h·ªôi tho·∫°i">
                                <span class="info-icon">‚ÑπÔ∏è</span>
                            </button>
                        </div>
                    </div>

                     Messages Area 
                    <div class="messages-container">
                        <div id="messages-list" class="messages-list">
                             Messages will be loaded here 
                        </div>
                        <div id="typing-indicator" class="typing-indicator" style="display: none;">
                            <div class="typing-dots">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                            <span class="typing-text">ƒêang nh·∫≠p...</span>
                        </div>
                    </div>

                     Message Input 
                    <div class="message-input-container">
                        <div class="message-input-wrapper">
                            <button class="attachment-btn" title="ƒê√≠nh k√®m file">
                                <span class="attachment-icon">üìé</span>
                            </button>
                            <textarea 
                                id="message-input" 
                                placeholder="Nh·∫≠p tin nh·∫Øn..." 
                                rows="1"
                                onkeypress="handleMessageKeyPress(event)"
                                oninput="autoResizeTextarea(this)"
                            ></textarea>
                            <button class="emoji-btn" title="Emoji">
                                <span class="emoji-icon">üòä</span>
                            </button>
                            <button class="send-message-btn" onclick="sendQuickMessage()" title="G·ª≠i tin nh·∫Øn">
                                <span class="send-icon">‚û§</span>
                            </button>
                        </div>
                    </div>
                </div>

                 Message Forms 
                <div id="messaging-section" class="messaging-section">
                    <div class="forms-container">
                         Regular Message Form 
                        <div class="message-form-card">
                            <div class="form-header">
                                <h3><span class="form-icon">üí¨</span>G·ª≠i Tin Nh·∫Øn</h3>
                            </div>
                            <form class="message-form" onsubmit="sendMessage(event)">
                                <div class="form-group">
                                    <label for="recipient-id">ID Ng∆∞·ªùi Nh·∫≠n</label>
                                    <input type="text" id="recipient-id" required placeholder="Nh·∫≠p Facebook User ID">
                                </div>
                                <div class="form-group">
                                    <label for="message-text">N·ªôi Dung Tin Nh·∫Øn</label>
                                    <textarea id="message-text" required placeholder="Nh·∫≠p n·ªôi dung tin nh·∫Øn..." rows="4"></textarea>
                                </div>
                                <button type="submit" class="send-btn">
                                    <span class="btn-icon">üì§</span>
                                    G·ª≠i Tin Nh·∫Øn
                                </button>
                            </form>
                        </div>

                         OTN Form 
                        <div class="message-form-card otn-card">
                            <div class="form-header">
                                <h3><span class="form-icon">üîî</span>G·ª≠i Th√¥ng B√°o OTN</h3>
                            </div>
                            <form class="message-form" onsubmit="sendOTN(event)">
                                <div class="form-group">
                                    <label for="otn-recipient-id">ID Ng∆∞·ªùi Nh·∫≠n</label>
                                    <input type="text" id="otn-recipient-id" required placeholder="Nh·∫≠p Facebook User ID">
                                </div>
                                <div class="form-group">
                                    <label for="otn-token">OTN Token</label>
                                    <input type="text" id="otn-token" required placeholder="Nh·∫≠p OTN token">
                                </div>
                                <div class="form-group">
                                    <label for="otn-message">N·ªôi Dung Th√¥ng B√°o</label>
                                    <textarea id="otn-message" required placeholder="Nh·∫≠p n·ªôi dung th√¥ng b√°o..." rows="4"></textarea>
                                </div>
                                <button type="submit" class="send-btn otn-btn">
                                    <span class="btn-icon">üöÄ</span>
                                    G·ª≠i OTN
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

     Loading Overlay 
    <div id="loading-overlay" class="loading-overlay" style="display: none;">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p class="loading-text">ƒêang t·∫£i...</p>
        </div>
    </div>

     Notification Container 
    <div id="notification-container" class="notification-container"></div>

    <script src="dashboard.js"></script>
</body>
</html>
